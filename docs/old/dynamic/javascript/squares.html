<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Bits of javascript</title>
<script type="text/javascript">
	function randColor(){
		var red = Math.floor(Math.random() * 255);
  		var green = Math.floor(Math.random() * 255);
  		var blue = Math.floor(Math.random() * 255);
		newcolor = red+','+green+','+blue;
		return(newcolor);
	}
	
	function randSize(){
		var size = Math.floor(Math.random() *100);
		return(size);
	}
	
	function create(targetobj){
		
		var readthis = document.getElementById(targetobj);
		var newpara = document.createElement("div");
		readthis.appendChild(newpara);
		
		var parentstyle = document.getElementById("dom");
		
		randColor();
		
		newpara.setAttribute("style", 'background-color:rgb('+newcolor+'); width: 100px; height: 100px; float: left; margin: 10px;');
		newpara.setAttribute("onclick", "fadethis(this)");

		//alert(newpara.getAttribute("style"));
	}
	
	function fade(targetobj){
		t=setTimeout("fade(targetobj)",100);
		opacity -= 0.1;
		if(opacity <= 0.05){
			opacity = -0.1;
			targetobj.setAttribute("style", style);
			clearTimeout(t);
		}
		
		var style = "filter:alpha(opacity="+(opacity*100)+"); -moz-opacity:"+opacity+"; opacity: "+opacity+";";
		targetobj.setAttribute("style", style);
	}
	
	function resetopacity(){
		opacity = 1.0;
	}
	
	function fadethis(targetobj){
		resetopacity();
		fade(targetobj);
	
	}
</script>


</head>

<body>


<div id="dom">
	  <ul>
        <li><a href="#" onclick="create('dom'); return false;">Create an object</a></li>
        
    </ul>
</div>

</body>
</html>
